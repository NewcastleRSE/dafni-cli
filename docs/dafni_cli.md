# DAFNI CLI documentation

## Installation

The current method of distribution is via an executable program that can be run on the command line. This will take the form of a executable file called `dafni.exe`.
Due to this, there is no installation at this stage from a user perspective, just a necessity to have a copy of the executable on the computer it is to be used on.
___

## Commands

There are several commands implemented for the dafni CLI, these are listed below with there associated sub-commands and options.
___
### Login

>Command: `dafni(.exe) login`

This command, when completed will store the login JWT generated by the DAFNI API to the current working directory as `dafni_jwt.txt`.
When the login process is called, the initial step is to check the current working directory for a cached JWT file, if this isn't found then a prompt will be raised for the users user name and password to generate a new JWT token.
If however there is a stored JWT file found, the expiry datetime associated with the JWT will be checked to ensure it is still valid. If the token has not expired, then this will be used for any subsequent API calls, and prompts will not be required for the users user name and password. Otherwise the process to generate a new JWT will be started, and the current JWT file overwritten.
___
### Logout

>Command: `dafni(.exe) logout`

This command is used to remove any stored JWT files associated with the current users login session. If a JWT file exists, it will be removed and the users name and id will be printed to the command line for information. Otherwise a message informing the user that they are already logged out will be displayed.
___
### Get

>Command: `dafni(.exe) get [sub-command]`

Retrieve and display entities available to the user. 
If there is no valid JWT, the user will be prompted to login before the command is carried out.

**Sub-Commands:**
- Models:
    >*Command: `dafni(.exe) get models [options]`*

    Lists the models available to the user. 

    *Options*:
    - **--creation-date**: Filter to only show the models created since a given date with format DD/MM/YYYY.
    - **--publication-date**:  Filter to only show the models created since a given date with format DD/MM/YYYY.

